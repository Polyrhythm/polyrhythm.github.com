<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"><meta content="width=device-width, initial-scale=1.0, user-scalable=yes" name="viewport"><title>misaki document - Switch Compiler</title><link href="/favicon.ico" rel="shortcut icon"><link href="/atom.xml" rel="alternate" title="Switch Compiler" type="application/atom-xml"><link href="/misaki/css/prettify.css" rel="stylesheet" type="text/css"><link href="http://fonts.googleapis.com/css?family=Josefin+Sans" rel="stylesheet" type="text/css"><link href="/misaki/css/main.css" rel="stylesheet" type="text/css"><link href="/misaki/css/extra.css" rel="stylesheet" type="text/css"><link href="/misaki/css/smartphone.css" media="only screen and (max-device-width:480px)" rel="stylesheet" type="text/css"></head><body><a class="github_ribbon" href="https://github.com/liquidz/misaki"><img alt="Fork me on GitHub" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" style="position: absolute; top: 0; right: 0; border: 0;"></a><div class="container"><article><div class="page-header"><h1 id="G__4296"><a href="/misaki/">Switch Compiler</a><a class="dagger" href="#G__4296">&dagger;</a></h1><div class="tag"><ul></ul></div><p class="date"></p></div><div class="post"><h2 id="G__4287"><span>K</span>ind of compilers<a class="dagger" href="#G__4287">&dagger;</a></h2><p class="paragraph">Now, there are 3 official compiler.</p><ul><li><span>default</span></li><li><span>clostache</span></li><li><span>copy</span></li><li><span>cljs</span></li></ul><h3 id="G__4288"><span>D</span>efault compiler<a class="dagger" href="#G__4288">&dagger;</a></h3><p class="paragraph">Explained in this document. S-expression to HTML compiler.</p><h3 id="G__4289"><span>C</span>lostache compiler<a class="dagger" href="#G__4289">&dagger;</a></h3><p class="paragraph">HTML to HTML compiler using <a href="https://github.com/fhd/clostache">clostache</a>.
   If you are poor at S-exp, clostache compiler is good choice.<br />   Clostache compiler is maintained at <a href="https://github.com/liquidz/misaki-clostache">misaki-clostache</a>,</p><h3 id="G__4290"><span>C</span>opy compiler<a class="dagger" href="#G__4290">&dagger;</a></h3><p class="paragraph">File copying compiler. If you want to copy template file without changes, use this compiler.
   Target template extension is <code class="prettyprint">*</code>(all extensions).</p><p class="paragraph">Copy compiler has custom option named <code class="prettyprint">:except-extensions</code>. If you specify this option in _config.clj, copy compiler except files which has specified extension.</p><pre class="prettyprint lang-clj">{
 ; other settings...

 ; excepting extensions
 ; (setting for copy compiler)
 :except-extensions [:jpg :png :gif]
 }</pre><h3 id="G__4291"><span>C</span>ljs compiler<a class="dagger" href="#G__4291">&dagger;</a></h3><p class="paragraph">ClojureScript compiler. clj file compiles to js. Detailed explanation is <a href="/misaki/toc/05-clojurescript.html">here</a>.</p><h2 id="G__4292"><span>S</span>witch compiler<a class="dagger" href="#G__4292">&dagger;</a></h2><p class="paragraph">Edit <code class="prettyprint">:compiler</code> setting in _config.clj</p><pre class="prettyprint lang-clj">{
 ; other settings...

 ; compiler setting
 :compiler &quot;default&quot;
 }</pre><h3 id="G__4293"><span>U</span>se misaki-clostache<a class="dagger" href="#G__4293">&dagger;</a></h3><p class="paragraph">Add misaki-clostache dependency.</p><pre class="prettyprint lang-clj">{
 :dependencies [
    ; other dependencies
    [misaki-clostache &quot;0.0.1-alpha&quot;]] ; add misaki-clostache

 ; set clostache as compiler
 :compiler &quot;clostache&quot;
 }</pre><pre class="prettyprint">$ lein deps
$ lein run YOUR_SITE</pre><h2 id="multiple_compilers"><span>U</span>se multiple compilers<a class="dagger" href="#multiple_compilers">&dagger;</a></h2><p class="paragraph">You can use multiple compilers at the same time.</p><pre class="prettyprint lang-clj">{
 ; other settings...

 ; multiple compiler setting
 :compiler [&quot;default&quot; &quot;copy&quot;]
 }</pre><p class="paragraph">In this case, <code class="prettyprint">default</code> compiler is called at first. If <code class="prettyprint">default</code> compiler returns success result, compiling template is finished.
   If <code class="prettyprint">default</code> compiler skip to compile the template, <code class="prettyprint">copy</code> compiler is call.</p><h2 id="G__4295"><span>S</span>ee also..<a class="dagger" href="#G__4295">&dagger;</a></h2><ul><li><span><p class="paragraph"><a href="/misaki/toc/07-develop-compiler.html">Develop Compiler</a></p></span></li></ul><p class="paragraph pager"><a href="/misaki/toc/05-clojurescript.html">&laquo; Clojurescript</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="/misaki/">Top Page</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="/misaki/toc/07-develop-compiler.html">Develop Compiler&nbsp;&raquo;</a></p></div></article><footer class="footer"><p><a href="http://twitter.com/uochan">@uochan</a>&nbsp; 2013</p><p><a href="https://github.com/liquidz/misaki"><img alt="misaki banner" src="/misaki/img/misaki_banner.svg"></a></p></footer></div><script src="/misaki/js/prettify.js" type="text/javascript"></script><script src="/misaki/js/lang-clj.js" type="text/javascript"></script><script src="/misaki/js/main.js" type="text/javascript"></script></body></html>